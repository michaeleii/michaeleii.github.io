---
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
  const response = await fetch(
    "https://jsonplaceholder.typicode.com/posts?_limit=5"
  );
  const posts = (await response.json()) as {
    id: string;
    title: string;
    body: string;
  }[];
  return posts.map(({ id, title, body }) => {
    return {
      params: { slug: id },
      props: { title, body },
    };
  });
}

const { id } = Astro.params;
const { title, body } = Astro.props;
---

<Layout title={title}>
  <!-- Blog Article -->
  <div
    class="mx-auto max-w-3xl flex-1 px-4 pb-12 pt-6 sm:px-6 lg:px-8 lg:pt-10"
  >
    <div class="max-w-2xl">
      <!-- Content -->
      <div class="space-y-5 md:space-y-8">
        <div class="space-y-3">
          <h2 class="text-2xl font-bold dark:text-white md:text-3xl">
            {title}
          </h2>

          <p class="text-lg text-gray-800 dark:text-gray-200">
            {body}
          </p>
        </div>
      </div>
    </div>
    <!-- End Content -->
  </div>
</Layout>
<!-- End Blog Article -->
